<!DOCTYPE html>

<html class="no-js">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Demo</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- CSS -->
    <link rel="stylesheet" href="/css/owl.carousel.css" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/css/bde.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/ionicons.min.css" />
    <link rel="stylesheet" href="/css/animate.css" />
    <link rel="stylesheet" href="/css/responsive.css" />
    <link rel="stylesheet" href="/css/syntax.css" />

    <!-- Js -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/plugins.js"></script>
    <script src="/js/min/waypoints.min.js"></script>
    <script src="/js/jquery.counterup.js"></script>


    <script src="/js/main.js"></script>

    <!--
    /*
     * BDE Layout
     * Ported to Jekyll by Alexander Hay
     * https://github.com/alexanderhay2020
     *
     */
    -->
  </head>
  <body>
    <style>
      #myInput {
        box-sizing: border-box;
        background-image: url('../img/searchicon.png');
        background-position: 14px 12px;
        background-repeat: no-repeat;
        font-size: 16px;
        padding: 14px 20px 12px 45px;
        border: none;
        border-bottom: 1px solid #ddd;
      }
      #myInput:focus {
        outline: 3px solid #ddd;
      }
      .dropbtn {
        background-color: #cc4125ff;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;
      }
      .dropbtn:hover,
      .dropbtn:focus {
        background-color: #aa4125ff;
      }
      .dropdown {
        position: relative;
        display: inline-block;
      }
      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f6f6f6;
        min-width: 230px;
        overflow: auto;
        border: 1px solid #ddd;
        color: black;
        z-index: 1;
      }
      .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }
      .dropdown a:hover {
        background-color: #ddd;
      }
      .dropdown .show {
        display: block;
      }

      .grid-container {
        display: grid;
        grid-template-columns: 1fr 0.5fr 1.5fr;
        grid-template-rows: 0.5fr 2.5fr 0.5fr;
        gap: 1px 1px;
        grid-template-areas: "nutrition_label dropdown supplements""nutrition_label . supplements";
      }
      .nutrition_label {
        grid-area: nutrition_label;
      }
      .supplements {
        grid-area: supplements;
        width: 50%
      }
      .dropdown {
        grid-area: dropdown;
      }

      .nutrition-facts {
        border: 1px;
        border-style: solid;
        border-color: black;
        margin: 20px;
        float: left;
        width: 75%;
        padding: 0.5rem;
        table {
          border-collapse: collapse;
        }
      }
      .nutrition-facts p {
        font-size: 10px;
        margin: 1px 0 1px 0;
      }
      .nutrition-facts h6 {
        /* font-size: 10px; */
        margin: 1px 0 1px 0;
      }
      .nutrition-facts__title {
        font-weight: bold;
        font-size: 2rem;
        margin: 0 0 0.25rem 0;
      }
      .nutrition-facts__header {
        border-bottom: 10px solid black;
        padding: 0 0 0.25rem 0;
        margin: 0 0 0.5rem 0;
        p {
          margin: 0;
        }
      }
      .nutrition-facts__table {
        width: 100%;
        thead tr {
          th,
          td {
            border: 0;
          }
        }
        th,
        td {
          font-weight: normal;
          text-align: left;
          padding: 0.25rem 0;
          border-top: 1px solid black;
          white-space: nowrap;
        }
        td {
          &:last-child {
            text-align: right;
          }
        }
        .blank-cell {
          width: 1rem;
          border-top: 0;
        }
        .thick-row {
          th,
          td {
            border-top-width: 5px;
          }
        }
      }
      .nutrition-facts__table--small {
        @extend .nutrition-facts__table;
        border-bottom: 1px; 
        border-style: solid;
        border-color: #999;
        margin: 0 0 0.5rem 0;
        thead {
          tr {
            border-bottom: 1px;
            border-style: solid;
            border-color: black;
          }
        }
        td {
          &:last-child {
            text-align: left;
          }
        }
        th,
        td {
          border: 0;
          padding: 0;
        }
      }
      .nutrition-facts__table--grid {
        @extend .nutrition-facts__table;
        margin: 0 0 0.5rem 0;
        td {
          &:last-child {
            text-align: left;
            &::before {
              content: "â€¢";
              font-weight: bold;
              margin: 0 0.25rem 0 0;
            }
          }
        }
      }
      
      .text-center {
        text-align: center;
      }
      .text-right {
        text-align: right;
      }
      .thick-end {
        border-bottom: 10px solid black;
      }
      .thin-end {
        border-bottom: 1px solid black;
      }

      .popup {
        position: relative;
        display: inline-block;
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      .popup .popuptext {
        /* The actual popup */

        visibility: hidden;
        width: 160px;
        background-color: #fff;
        border-style: solid;
        border-color: red;
        color: #000;
        text-align: center;
        border-radius: 6px;
        padding: 8px 0;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -80px;
      }
      .popup .show {
        /* Toggle this class - hide and show the popup */
        visibility: visible;
      }

      .slidecontainer {
        width: 50%;
      }
      .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 5px;
        border-radius: 5px;
        background: #d3d3d3;
        outline: none;
        opacity: 0.7;
        -webkit-transition: .2s;
        transition: opacity .2s;
      }
      .slider:hover {
        opacity: 1;
      }
      .slider::-moz-range-thumb {
        width: 25px;
        height: 25px;
        border-radius: 100%;
      }
    </style>

    <header>
      <div class="container">
      <div class="row">
        <div class="col-md-12">
          <!-- header Nav Start -->
          <nav class="navbar navbar-default">
            <div class="container-fluid">
              <!-- Brand and toggle get grouped for better mobile display -->
              <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">
                  <img src="/img/logo_sm.png" alt="Logo">
                </a>
              </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav navbar-right">
                    <li><a href="/">Home</a></li>
                    <li><a href="/demo">Demo</a></li>
                    <!-- <li><a href="/blog">Blog</a></li> -->
                    <!-- <li><a href="#">Service</a></li> -->
                    <li><a href="/contact">Contact</a></li>
                  </ul>
                </div><!-- /.navbar-collapse -->
              </div><!-- /.container-fluid -->
            </nav>
          </div>
        </div>
      </div>
    </header>
    <div class="grid-container">
      <div class="dropdown">
        <div class="popup" onclick="error_balloon()">
          <span class="popuptext" href="#popup1" id="myPopup">Supplement Already Added</span>
        </div>
        <button onclick="button_showhide_toggle()" class="dropbtn">Add Supplement</button>
        <div id="myDropdown" class="dropdown-content">
        </div>
      </div>
      <div class="supplements" id="supplement_list"></div>
      <div class="nutrition_label">
        <section class="nutrition-facts">
          <header class="nutrition-facts__header">
            <h1 class="nutrition-facts__title">Nutrition Facts</h1>
            <h6>Serving Size: 1 scoop (10g)</h6>
            <h6>Serving Per Container: 30</h6>
          </header>
          <table class="nutrition-facts__table">
            <thead>
              <tr>
                <th colspan="2">
                  <h6>Amount Per Serving</h6>
                </th>
                <td><h6>% Daily Value*</h6></td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th colspan="2">
                  <h4><b>Calories: </b>10</h4>
                </th>
              </tr>
              <tr>
                <th colspan="2">
                  <b>Total Carbohydrates: </b>
                  40mg
                </th>
                <td>
                  <b>2%</b>
                </td>
              </tr>
              <tr>
                <th colspan="2">
                  <b>Sodium</b>
                  40mg
                </th>
                <td>
                  <b>2%</b>
                </td>
              </tr>

              <tr>
                <td class="blank-cell">
                </td>
                <th>
                  Dietary Fiber
                  1g
                </th>
                <td>
                  <b>4%</b>
                </td>
              </tr>
              <tr>
                <td class="blank-cell">
                </td>
                <th>
                  Sugars
                  14g
                </th>
                <td>
                </td>
              </tr>
              <tr class="thick-end">
                <th colspan="2">
                  <b>Protein</b>
                  3g
                </th>
                <td>
                </td>
              </tr>
            </tbody>
          </table>
          <table class="nutrition-facts__table--grid">
            <tbody>
              <tr>
                <td colspan="2">
                  Vitamin A
                  10%
                </td>
                <td>
                  Vitamin C
                  0%
                </td>
              </tr>
              <tr class="thin-end">
                <td colspan="2">
                  Calcium
                  10%
                </td>
                <td>
                  Iron
                  6%
                </td>
              </tr>
            </tbody>
          </table>
          <p class="small-info">* Percent Daily Values are based on a 2,000 calorie diet. Your daily values may be higher or lower depending on your calorie needs:</p>
          <table class="nutrition-facts__table--small small-info">
            <thead>
              <tr>
                <td colspan="2"></td>
                <th>Calories:</th>
                <th>2,000</th>
                <th>2,500</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th colspan="2">Total Fat</th>
                <td>Less than</td>
                <td>65g</td>
                <td>80g</td>
              </tr>
              <tr>
                <td class="blank-cell"></td>
                <th>Saturated Fat</th>
                <td>Less than</td>
                <td>20g</td>
                <td>25g</td>
              </tr>
              <tr>
                <th colspan="2">Cholesterol</th>
                <td>Less than</td>
                <td>300mg</td>
                <td>300 mg</td>
              </tr>
              <tr>
                <th colspan="2">Sodium</th>
                <td>Less than</td>
                <td>2,400mg</td>
                <td>2,400mg</td>
              </tr>
              <tr>
                <th colspan="3">Total Carbohydrate</th>
                <td>300g</td>
                <td>375g</td>
              </tr>
              <tr>
                <td class="blank-cell"></td>
                <th colspan="2">Dietary Fiber</th>
                <td>25g</td>
                <td>30g</td>
              </tr>
            </tbody>
          </table>
          <p class="small-info">
            Calories per gram:</p>
          <p class="small-info text-center">
            Fat 9
            &bull;
            Carbohydrate 4
            &bull;
            Protein 4</p>
        </section>
      </div>
    </div>
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            Designed by <a href="https://github.com/alexanderhay2020/">Alexander Hay</a>
            <br>

                Last updated: Jun, 2020.

          </div>
        </div>
      </div>
    </footer>
  </body>
  <script>
    /* *********************************
                JAVASCRIPT
    ********************************* */

    const supplement_data = [
      {name: 'betaalanine', propername: 'Beta Alanine', max: 4, unit: 'g', step: 0.1},
      {name: 'caffeine', propername: 'Caffeine', max: 300, unit: 'mg', step: 1},
      {name: 'creatine', propername: 'Creatine', max: 25, unit: 'g', step: 0.5},
      {name: 'lcitrulline', propername: 'L-Citrulline', max: 10, unit: 'g', step: 0.1},
      {name: 'larganine', propername: 'L-Arganine', max: 2, unit: 'g', step: 0.1},
      {name: 'theanine', propername: 'Theanine', max: 100, unit: 'mg', step: 1},
      {name: 'niacin', propername: 'Niacin', max: 30, unit: 'mg', step: 0.5},
      {name: 'taurine', propername: 'Taurine', max: 2, unit: 'g', step: 0.1},
      {name: 'bcaa', propername: 'BCAA', max: 20, unit: 'g', step: 0.5}
    ];

    function button_showhide_toggle() {
      // Toggle showing/hiding list
      document.getElementById("myDropdown").classList.toggle("show");
      
      // Populate list
      var x ="<input type='text' placeholder='Search..' id='myInput' onkeyup='filterFunction()'>";
      var i;
      for (i=1; i<=6; i++) {
        x = x + "<a onclick=add_fields('" + supplement_data[i].name + "')>" + supplement_data[i].propername + "</a>";
      }
      document.getElementById("myDropdown").innerHTML = x;
    }

    function add_fields(name) {

      // Get supplement list
      var objTo = document.getElementById('supplement_list');

      var length = objTo.children.length;
      var i;

      var slider_id = "slide_";
      slider_id = slider_id.concat(name);

      // 1 for yes, 0 for no; initialize yes to enter first supplement
      if (length==0){
        var do_we_add = 1; 
      }
      else{
        var do_we_add = 0;
      }

      for (i=0; i<length; i++){

        // if the name clicked is the same as child i, then we do not add it
        if (name==objTo.children[i].localName){
          // if name is on list we do not add it to the list
          do_we_add = 0; 
          // console.log(do_we_add);
          error_balloon();
          break;
        }
        else{
          // if name is not on list we add it to the list
          do_we_add = 1;
          // console.log(do_we_add);
        }
      }
      if (do_we_add==1){

        // Find supplement info from data table
        function getSupp(supp) { 
          return supp.name === name;
        }
        var supplement = supplement_data.find(getSupp);

        // Elements & Objects
        var slidecontainer = document.createElement(supplement.name);
        supplement.slider_id = slider_id;
        slidecontainer.innerHTML = '<span>'+supplement.propername+'</span>';

        var input = document.createElement("input");
        input.class = "slider";
        input.type = "range";
        input.min = 0;
        input.max = supplement.max;
        input.step = supplement.step;
        input.value = 0;
        input.id = slider_id;

        var output = document.createElement("output");
        var output_id = "output_";
        output_id = output_id.concat(supplement.name);
        output.id = output_id;

        // Append to container
        slidecontainer.appendChild(input);
        slidecontainer.appendChild(output);
        objTo.appendChild(slidecontainer, slider_id);

        // Updates value
        supplement.slider_value = document.getElementById(supplement.slider_id);
        output.innerhtml = supplement.slider_value.value;
        supplement.slider_value.oninput = function() {
          output.innerHTML = '<span style="font-weight:bold;color:red">Amount: '+this.value+'</span>';
          supplement.qty = this.value;
          // console.log(supplement);
        }
      }
    }

    function error_balloon() {
      var popup = document.getElementById("myPopup");
      popup.classList.toggle("show");
    }

    function filterFunction() {
      var input, filter, ul, li, a, i;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      div = document.getElementById("myDropdown");
      a = div.getElementsByTagName("a");
      for (i = 0; i < a.length; i++) {
        txtValue = a[i].textContent || a[i].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          a[i].style.display = "";
        } else {
          a[i].style.display = "none";
        }
      }
    }
        
    // window.onclick = function(event) {
    //   if (!event.target.matches('.dropbtn')) {
    //     var dropdowns = document.getElementsByClassName("dropdown-content");
    //     var i;
    //     for (i = 0; i < dropdowns.length; i++) {
    //       var openDropdown = dropdowns[i];
    //       if (openDropdown.classList.contains('show')) {
    //         openDropdown.classList.remove('show');
    //       }
    //     }
    //   }
    // }
  </script>
</html>
